name: build a image
on:
  push:
    branches: [ main ]
jobs:
  checkout:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: list files
        run: touch text.txt; ls -la
      - name: Archive production artifacts
        uses: actions/upload-artifact@v4
        with:
          name: upload main.groovy
          path: |
            $GITHUB_WORKSPACE/main.groovy

  display-env:
    runs-on: ubuntu-latest
    steps:
      - name: build code
        run: echo "${{ github.repository }}"; ls -la
      - name: print github action env
        run: env
      - name: print github action workspace
        run: echo "${{ github.workspace }}"
      - name: print github action event_name
        run: |
          echo "${{ github.event_name }}"
          ls -la
          echo "123" > 123.txt
          cat 123.txt
      - name: list java version
        run: |
          which java
          java -version
  share-code:
    runs-on: ubuntu-latest
    steps:
      - name: Archive code coverage results
        uses: actions/upload-artifact@v4
        with:
          name: download main.groovy
          path: |
            main.groovy
      - name: list all  files
        run: ls -l
        


